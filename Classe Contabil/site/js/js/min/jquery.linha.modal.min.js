//Linha Modal
(function($){$.fn.modal=function(options){return new $.modal(options,this);};$.modal=function(options,elem){var padrao={seletor:'.modal',classe_modal:'modal-area',classe_titulo:'modal-titulo',classe_conteudo:'modal-conteudo',classe_fecha:'modal-fecha',classe_load:'modal-load',classe_imagem:'imagem',classe_ajax:'ajax',classe_iframe:'iframe',classe_video:'video',classe_cancela:'fecha',classe_confirma:'confirma',classe_fundo:'modal-fundo',fundo_opacidade:0.7,fundo:true,fecha:true,zIndex:1000,tempo:'fast',titulo:null,conteudo:null,conteudo_antes:false,atributo_titulo:'titulo',atributo_conteudo:'conteudo',atributo_altura:'altura',atributo_largura:'largura',atributo_iframe_largura:'iframelargura',atributo_iframe_altura:'iframealtura',atributo_video_largura:'videolargura',atributo_video_altura:'videoaltura',onShow:null,onHide:null,onConfirma:null};var o=$.extend(padrao,options);var m=new Array(),e=new Array(),w=new Array(),t='';if(elem===undefined){elem=$(o.seletor);}
return elem.each(function(){if(this.length==0)
return this;$(this).click(function(e){e.preventDefault();t=$(this);return iniciaModal();});});function iniciaModal(){e['titulo']=t.attr(o.atributo_titulo);e['conteudo']=t.attr(o.atributo_conteudo);e['altura']=t.attr(o.atributo_altura);e['largura']=t.attr(o.atributo_largura);e['href']=t.attr('href');e['iframelargura']=t.attr(o.atributo_iframe_largura);e['iframealtura']=t.attr(o.atributo_iframe_altura);e['videolargura']=t.attr(o.atributo_video_largura);e['videoaltura']=t.attr(o.atributo_video_altura);w['w']=$(window).width(),w['h']=$(window).height(),w['sl']=$(window).scrollLeft(),w['st']=$(window).scrollTop();criaModal();dataModal();}
function criaModal(){m['fundo']=$('<div></div').addClass(o.classe_fundo).css({width:'100%',height:'100%',opacity:o.fundo_opacidade,position:'fixed',top:0,left:0,zIndex:o.zIndex-1,backgroundColor:'#000',display:'none'}).appendTo('body').fadeIn(o.tempo);m['load']=$('<div></div>').addClass(o.classe_load).css({position:'fixed',top:'50%',left:'50%',zIndex:o.zIndex});m['modal']=$('<div></div>').addClass(o.classe_modal).css({width:e['largura'],height:e['altura'],position:'absolute',zIndex:o.zIndex,display:'none'});m['fecha']=$('<span>x</span>').addClass(o.classe_fecha);m['titulo']=$('<div></div>').addClass(o.classe_titulo);m['conteudo']=$('<div></div>').addClass(o.classe_conteudo);m['load'].css({marginTop:-(m['load'].outerHeight()/2),marginLeft:-(m['load'].outerWidth()/2)});}
function dataModal(){m['titulo'].html(o.titulo).append(e['titulo']);if(t.hasClass(o.classe_video)){var link=e['href'].replace(new RegExp("watch\\?v=","i"),'v/');var data='<object width="'+e['videolargura']+'" height="'+e['videoaltura']+'" classid="clsid:D27CDB6E-AE6D-11CF-96B8-444553540000" codebase="http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=8,0,0,0" style="display: block">';data+='<param name="movie" value="'+link+'"></param>';data+='<embed type="application/x-shockwave-flash" src="'+link+'" width="'+e['videolargura']+'" height="'+e['videoaltura']+'"></embed>';data+='</object>';m['conteudo'].append(data);}
if(t.hasClass(o.classe_iframe)){var data='<iframe src="'+e['href']+'" height="'+e['iframealtura']+'" width="'+e['iframelargura']+'" style="border:0; display: block" frameBorder="0"></iframe>';m['conteudo'].append(data);}
if(t.hasClass(o.classe_ajax)){m['load'].appendTo('body');$.ajax({type:"POST",url:e['href'],success:function(data){m['load'].fadeOut('normal',function(){$(this).remove();});m['conteudo'].append(data);return mostraModal();},error:function(){m['load'].fadeOut('normal',function(){$(this).remove();});m['conteudo'].append("Ocorreu algum erro ou esta url n√£o existe...");return mostraModal();}});return false;}
if(t.hasClass(o.classe_imagem)){m['load'].appendTo('body');var img=new Image();$(img).load(function(){$(this).css({display:'none',height:this.height,width:this.width});m['load'].fadeOut('normal',function(){$(this).remove();});m['conteudo'].append(img);$(this).fadeIn();return redimensionaModal(this.width,this.height);}).attr('src',e['href']);return false;}
else{m['conteudo'].append(e['conteudo']);}
return mostraModal();}
function redimensionaModal(w,h){m['conteudo'].css({height:h,width:w});mostraModal();}
function mostraModal(){if(!o.conteudo_antes){m['conteudo'].append(o.conteudo);}else{m['conteudo'].prepend(o.conteudo);}
if(m['titulo'].html()!==undefined){m['modal'].append(m['titulo']);}
m['modal'].append(m['conteudo']).append(m['fecha']).appendTo('body').hide();var mTop=w['h']/2+(w['st'])-(m['modal'].outerHeight()/2);var mLeft=(w['w']/2)+w['sl']-(m['modal'].outerWidth()/2);m['modal'].css({top:mTop,left:mLeft}).fadeIn(o.tempo);if(o.fecha){m['fundo'].click(function(e){e.preventDefault();return deletaModal();});}
m['fecha'].click(function(e){e.preventDefault();return deletaModal();});$('.'+o.classe_cancela).click(function(e){e.preventDefault();return deletaModal();});$('.'+o.classe_confirma).click(function(e){e.preventDefault();deletaModal();if($.isFunction(o.onConfirma)){o.onConfirma.apply(t);}});if($.isFunction(o.onShow)){o.onShow.apply(t);}}
function deletaModal(){if(m['fundo']){m['fundo'].fadeOut(o.tempo,function(){$(this).remove();});}
if(m['load']){m['load'].remove();}
m['modal'].remove();if($.isFunction(o.onHide)){o.onHide.apply(t);}}};})(jQuery);
